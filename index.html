<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>z-angular-tree by pop-lee</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>z-angular-tree</h1>
        <h2>AngularJS,Directive,tree</h2>
        <a href="https://github.com/pop-lee/z-angular-tree" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="z-angular-tree" class="anchor" href="#z-angular-tree" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Z-Angular-Tree</h1>

<h2>
<a id="-by-liyunpeng云鹏大连" class="anchor" href="#-by-liyunpeng%E4%BA%91%E9%B9%8F%E5%A4%A7%E8%BF%9E" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>　　　———— By LiYunpeng（云鹏@大连）</h2>

<p>基于AngularJS1.2.x版本开发,支持1.2.x或更高(Angular 1.2.x or higher),JQuery1.x即可</p>

<p>如果您觉得好用,麻烦给加颗星!!谢谢支持!</p>

<h2>
<a id="栗子-example" class="anchor" href="#%E6%A0%97%E5%AD%90-example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>栗子 <a href="http://pop-lee.github.io/z-angular-tree/example/index.html">example</a>
</h2>

<p>例子可直接下载运行,无需构建,也可使用gulp进行构建运行</p>

<h2>
<a id="目前为止实现的功能有-support-feature" class="anchor" href="#%E7%9B%AE%E5%89%8D%E4%B8%BA%E6%AD%A2%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8A%9F%E8%83%BD%E6%9C%89-support-feature" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>目前为止实现的功能有 Support Feature</h2>

<ul>
<li>节点展开、关闭</li>
<li>同级节点新增</li>
<li>子集节点新增</li>
<li>删除节点</li>
<li>选中节点</li>
<li>通过数据源配置选中节点</li>
<li>可根据需求自行加入缓动动画(与其他库无任何依赖),可参看例子(例子中使用的是angular-animate以及ui-bootstrap中的collapse)</li>
</ul>

<p>还可配置</p>

<ul>
<li>childrenField 数据源中子节点的字段名称(default "children")</li>
<li>leafNodeCanSelect 是否只有叶子节点才可选中(default true)</li>
<li>useToggle 是否使用节点互斥(default false)</li>
<li>canMultiple 是否允许多选(default true)</li>
<li>defaultCollapsed 默认子节点是折叠还是展开状态(default false)</li>
</ul>

<p>后续会加入拖拽功能</p>

<h2>
<a id="安装-install" class="anchor" href="#%E5%AE%89%E8%A3%85-install" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>安装 install</h2>

<pre><code>bower install z-angular-tree
</code></pre>

<h2>
<a id="开始-get-start" class="anchor" href="#%E5%BC%80%E5%A7%8B-get-start" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>开始 Get Start</h2>

<h3>
<a id="指令-directive" class="anchor" href="#%E6%8C%87%E4%BB%A4-directive" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>指令 Directive</h3>

<ul>
<li>zTree 树的核心,使用它来创建树</li>
<li>zTreeNodeChildren 代表节点的子节点,树形每个节点的子节点放置在这个指令内,所以若想将子节点放置某个位置,仅需控制此指令的位置即可</li>
<li>zTreeNodeIndent 代表节点的缩进(可选,当然也可通过其他方式,如z-tree-node-children的class自定义样式),通过此指令可以设置缩进,可将缩进放置在想要放置的某个位置,并且可以控制缩进量,可以通过修改z-tree-node-indent的class样式来调整每一个单元的缩进量,同时可通过该指令的值设置缩进多少个单元,如$model.nodeLevel个单元,也可设置为永远缩进1个单元等.</li>
</ul>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">z-tree</span> <span class="pl-e">tree-data</span>=<span class="pl-s"><span class="pl-pds">"</span>dataList<span class="pl-pds">"</span></span>&gt;
    <span class="pl-c">&lt;!-- node context 节点内容 --&gt;</span>
    &lt;<span class="pl-ent">label</span>&gt;this is a node&lt;/<span class="pl-ent">label</span>&gt;
    <span class="pl-c">&lt;!-- node children position 节点的子节点位置 --&gt;</span>
    &lt;<span class="pl-ent">div</span> <span class="pl-e">z-tree-node-children</span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<h3>
<a id="数据源-datasource" class="anchor" href="#%E6%95%B0%E6%8D%AE%E6%BA%90-datasource" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>数据源 dataSource</h3>

<p>tree-data="dataList",其中dataList的结构如：</p>

<div class="highlight highlight-source-json"><pre>[{
    <span class="pl-s"><span class="pl-pds">"</span>label<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>children<span class="pl-pds">"</span></span>: []
 }, {
    <span class="pl-s"><span class="pl-pds">"</span>label<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>b<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>children<span class="pl-pds">"</span></span>: [{
        <span class="pl-s"><span class="pl-pds">"</span>label<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>b1<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>children<span class="pl-pds">"</span></span>: [{
            <span class="pl-s"><span class="pl-pds">"</span>label<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>b1-1<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>children<span class="pl-pds">"</span></span>: []
        },{
            <span class="pl-s"><span class="pl-pds">"</span>label<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>b1-2<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>children<span class="pl-pds">"</span></span>: []
        }]
    }]
}]</pre></div>

<h3>
<a id="节点数据-node-data" class="anchor" href="#%E8%8A%82%E7%82%B9%E6%95%B0%E6%8D%AE-node-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>节点数据 node data</h3>

<ul>
<li>可通过node来进行访问传入的数据</li>
<li>还可访问节点的是否关闭状态,是否选中状态,是否在自己的子集包含选中节点,当前节点的层级数</li>
</ul>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">z-tree</span>=<span class="pl-s"><span class="pl-pds">"</span>tree<span class="pl-pds">"</span></span> <span class="pl-e">tree-data</span>=<span class="pl-s"><span class="pl-pds">"</span>dataList<span class="pl-pds">"</span></span>&gt;
    {{node.label}}
    -- collapsed:"{{$model.$collapsed}}"
    -- hasSelect:"{{$model.$hasSelect}}"
    -- selected:"{{$model.$selected}}"
    -- nodeLevel:"{{$model.$nodeLevel}}"
    -- index:"{{$model.$index}}"
    -- isFirst:"{{$model.$isFirst}}"
    -- isLast:"{{$model.$isLast}}"
    -- isMiddle:"{{$model.$isMiddle}}"
&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<h3>
<a id="控件引用-tree-reference" class="anchor" href="#%E6%8E%A7%E4%BB%B6%E5%BC%95%E7%94%A8-tree-reference" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>控件引用 tree reference</h3>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">z-tree</span>=<span class="pl-s"><span class="pl-pds">"</span>tree<span class="pl-pds">"</span></span>&gt;</pre></div>

<p>$scope.tree 就是引用了树形控件的对象,可以进行如下调用</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">$scope</span>.<span class="pl-smi">tree</span>.<span class="pl-en">toggle</span>(node);
<span class="pl-smi">$scope</span>.<span class="pl-smi">tree</span>.<span class="pl-en">addNode</span>(node);
<span class="pl-smi">$scope</span>.<span class="pl-smi">tree</span>.<span class="pl-en">addChildNode</span>(node);
<span class="pl-smi">$scope</span>.<span class="pl-smi">tree</span>.<span class="pl-en">delNode</span>(node);
<span class="pl-smi">$scope</span>.<span class="pl-smi">tree</span>.<span class="pl-en">selectNode</span>(node);</pre></div>

<h3>
<a id="添加事件-event-handle" class="anchor" href="#%E6%B7%BB%E5%8A%A0%E4%BA%8B%E4%BB%B6-event-handle" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>添加事件 event handle</h3>

<p>相应事件卸载controller内即可</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">z-tree</span>=<span class="pl-s"><span class="pl-pds">"</span>tree<span class="pl-pds">"</span></span> <span class="pl-e">tree-data</span>=<span class="pl-s"><span class="pl-pds">"</span>dataList<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>btn btn-xs btn btn-info<span class="pl-pds">"</span></span> <span class="pl-e">ng-click</span>=<span class="pl-s"><span class="pl-pds">"</span>toggle(node)<span class="pl-pds">"</span></span>&gt;toggle&lt;/<span class="pl-ent">button</span>&gt;
    &lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>btn btn-xs btn-primary<span class="pl-pds">"</span></span> <span class="pl-e">ng-click</span>=<span class="pl-s"><span class="pl-pds">"</span>addSameLevelNode(node)<span class="pl-pds">"</span></span>&gt;add&lt;/<span class="pl-ent">button</span>&gt;
    &lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>btn btn-xs btn-success<span class="pl-pds">"</span></span> <span class="pl-e">ng-click</span>=<span class="pl-s"><span class="pl-pds">"</span>addSubNode(node)<span class="pl-pds">"</span></span>&gt;add sub&lt;/<span class="pl-ent">button</span>&gt;
    &lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>btn btn-xs btn-danger<span class="pl-pds">"</span></span> <span class="pl-e">ng-click</span>=<span class="pl-s"><span class="pl-pds">"</span>delNode(node)<span class="pl-pds">"</span></span>&gt;del&lt;/<span class="pl-ent">button</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<h3>
<a id="节点的子节点可以放在任何想安放的位置-children-node-position" class="anchor" href="#%E8%8A%82%E7%82%B9%E7%9A%84%E5%AD%90%E8%8A%82%E7%82%B9%E5%8F%AF%E4%BB%A5%E6%94%BE%E5%9C%A8%E4%BB%BB%E4%BD%95%E6%83%B3%E5%AE%89%E6%94%BE%E7%9A%84%E4%BD%8D%E7%BD%AE-children-node-position" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>节点的子节点,可以放在任何想安放的位置 children node position</h3>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">z-tree</span>=<span class="pl-s"><span class="pl-pds">"</span>tree<span class="pl-pds">"</span></span> <span class="pl-e">tree-data</span>=<span class="pl-s"><span class="pl-pds">"</span>dataList<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">button</span>&gt;test&lt;/<span class="pl-ent">button</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">z-tree-node-children</span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<p>or</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">z-tree</span>=<span class="pl-s"><span class="pl-pds">"</span>tree<span class="pl-pds">"</span></span> <span class="pl-e">tree-data</span>=<span class="pl-s"><span class="pl-pds">"</span>dataList<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">z-tree-node-children</span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">button</span>&gt;test&lt;/<span class="pl-ent">button</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<p>or</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">z-tree</span>=<span class="pl-s"><span class="pl-pds">"</span>tree<span class="pl-pds">"</span></span> <span class="pl-e">tree-data</span>=<span class="pl-s"><span class="pl-pds">"</span>dataList<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">button</span>&gt;test&lt;/<span class="pl-ent">button</span>&gt;
    &lt;<span class="pl-ent">div</span>&gt;
        &lt;<span class="pl-ent">div</span>&gt;
            &lt;<span class="pl-ent">div</span>&gt;
                &lt;<span class="pl-ent">div</span> <span class="pl-e">z-tree-node-children</span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
            &lt;/<span class="pl-ent">div</span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<h2>
<a id="开源许可协议-license" class="anchor" href="#%E5%BC%80%E6%BA%90%E8%AE%B8%E5%8F%AF%E5%8D%8F%E8%AE%AE-license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>开源许可协议 License</h2>

<p><a href="https://github.com/pop-lee/z-angular-tree/blob/master/LICENSE">The Apache License</a></p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/pop-lee/z-angular-tree/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/pop-lee/z-angular-tree/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/pop-lee/z-angular-tree"></a> is maintained by <a href="https://github.com/pop-lee">pop-lee</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
